<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pending</title>

<style>
:root{
  --bg:#f0f0f0;
  --panel:#e2e2e2;
  --border:#c6c6c6;
  --text:#222;

  --pending:#b00020;
  --complete:#0a7a3d;

  --ticker-h:34px;
  --header-h:100px;
  --action-h:84px;

  --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

html, body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:var(--font);
  overflow:hidden;
}

#app{ position:relative; height:100%; }

/* Header */
#header{
  position:fixed;
  top:0; left:0; right:0;
  height:var(--header-h);
  background:var(--panel);
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:40;
}

#status{
  font-size:44px;
  font-weight:700;
  letter-spacing:1px;
}

.pending{ color:var(--pending); }
.complete{ color:var(--complete); }

/* Message area */
#messageArea{
  position:fixed;
  top:var(--header-h);
  left:0; right:0;
  bottom:calc(var(--ticker-h) + var(--action-h));
  padding:16px;
  box-sizing:border-box;
  pointer-events:none;
  z-index:10;
}

#messages{
  font-size:15px;
  line-height:1.45;
}

.msg{ margin-bottom:10px; }

/* Token layer */
#tokenLayer{
  position:fixed;
  top:var(--header-h);
  left:0; right:0;
  bottom:calc(var(--ticker-h) + var(--action-h));
  z-index:20;
  pointer-events:none;
}

.token{
  position:absolute;
  width:260px;
  height:150px;
  background-size:cover;
  background-repeat:no-repeat;
}

/* Actions */
#actionBar{
  position:fixed;
  bottom:var(--ticker-h);
  left:0; right:0;
  height:var(--action-h);
  background:var(--panel);
  border-top:1px solid var(--border);
  display:flex;
  align-items:center;
  gap:14px;
  padding:12px;
  z-index:50;
}

.action{
  background:#f8f8f8;
  border:1px solid var(--border);
  padding:10px 14px;
  font-size:15px;
  min-width:170px;
}

/* Ticker */
#ticker{
  position:fixed;
  bottom:0;
  left:0; right:0;
  height:var(--ticker-h);
  background:#dcdcdc;
  border-top:1px solid var(--border);
  overflow:hidden;
  z-index:60;
}

#tickerTrack{
  position:absolute;
  left:100%;
  white-space:nowrap;
  font-size:15px;
  color:#444;
  animation:scroll 160s linear infinite;
}

@keyframes scroll{
  from{ transform:translateX(0); }
  to{ transform:translateX(-200%); }
}
</style>
</head>

<body>
<div id="app">

  <div id="header">
    <div id="status" class="pending">PENDING</div>
  </div>

  <div id="messageArea">
    <div id="messages"></div>
  </div>

  <div id="tokenLayer"></div>

  <div id="actionBar">
    <div class="action">A — Acknowledge</div>
    <div class="action">B — Submit</div>
    <div class="action">C — Wait</div>
    <div class="action">? — Check status</div>
  </div>

  <div id="ticker">
    <div id="tickerTrack"></div>
  </div>

</div>

<script>
(() => {

/* ---------- CONFIG ---------- */
const DURATION_MS = 5 * 60 * 1000;

/* ---------- STATE ---------- */
const state = {
  end: Date.now() + DURATION_MS,
  finished: false,
  checks: 0
};

/* ---------- DOM ---------- */
const statusEl = document.getElementById("status");
const messagesEl = document.getElementById("messages");
const tokenLayer = document.getElementById("tokenLayer");
const tickerTrack = document.getElementById("tickerTrack");

/* ---------- SVG TOKEN ---------- */
function makeTokenBackground(label, ref){
  const svg = `
<svg xmlns="http://www.w3.org/2000/svg" width="260" height="150" viewBox="0 0 260 150">
  <defs>
    <filter id="s" x="-20%" y="-20%" width="140%" height="160%">
      <feDropShadow dx="2" dy="3" stdDeviation="2" flood-opacity="0.22"/>
    </filter>
    <pattern id="wm" width="80" height="80" patternUnits="userSpaceOnUse">
      <g opacity="0.06">
        <circle cx="40" cy="40" r="26" fill="none" stroke="#000" stroke-width="2"/>
        <path d="M25 42c10-18 28-18 38 0" fill="none" stroke="#000" stroke-width="2"/>
        <path d="M28 55h24" fill="none" stroke="#000" stroke-width="2"/>
      </g>
    </pattern>
  </defs>

  <g filter="url(#s)">
    <rect x="6" y="6" width="248" height="138" rx="4" fill="#fbfbfb" stroke="#bdbdbd" stroke-width="1.2"/>
    <rect x="6" y="6" width="248" height="138" rx="4" fill="url(#wm)"/>
  </g>

  <rect x="10" y="10" width="240" height="22" fill="#efefef" stroke="#d0d0d0"/>

  <text x="38" y="25" font-size="9.5" fill="#5f5f5f" letter-spacing="0.3"
        font-family="system-ui">ADMINISTRATIVE RECORD</text>

  <rect x="190" y="13" width="56" height="16" fill="#f6f6f6" stroke="#cfcfcf"/>
  <text x="194" y="25" font-size="9.5" fill="#6a6a6a"
        font-family="system-ui">REF: ${ref}</text>

  <text x="16" y="70" font-size="20" font-weight="650" fill="#222"
        font-family="system-ui">${label}</text>

  <text x="16" y="92" font-size="10.5" fill="#6a6a6a"
        font-family="system-ui">Processed by: SYSTEM • Classification pending</text>

  <rect x="16" y="108" width="150" height="22" fill="#f2f2f2" stroke="#d2d2d2"/>
</svg>`;

  return "url('data:image/svg+xml;utf8," + encodeURIComponent(svg) + "')";
}

/* ---------- HELPERS ---------- */
function addMessage(t){
  const d = document.createElement("div");
  d.className = "msg";
  d.textContent = t;
  messagesEl.prepend(d);
}

function addToken(label){
  const ref = Math.random().toString(36).slice(2,8).toUpperCase();
  const t = document.createElement("div");
  t.className = "token";
  t.style.backgroundImage = makeTokenBackground(label, ref);

  const r = tokenLayer.getBoundingClientRect();
  t.style.left = Math.random() * (r.width - 260) + "px";
  t.style.top  = Math.random() * (r.height - 150) + "px";
  t.style.transform = "rotate(" + (Math.random()*8 - 4) + "deg)";

  tokenLayer.appendChild(t);
}

function checkStatus(){
  state.checks++;
  if(Math.random() < 0.4) addMessage("Status unchanged.");
  if(Math.random() < 0.35) addToken("Received");
}

function endSession(){
  state.finished = true;
  addMessage("You checked your status " + state.checks + " times.");
}

/* ---------- TICKER ---------- */
const tickerPhrases = [
  "File located",
  "Review underway",
  "Awaiting confirmation",
  "Processing update",
  "Record matched",
  "Response pending"
];
tickerTrack.textContent = tickerPhrases.join("        ");

/* ---------- INIT ---------- */
addMessage("Your status is pending.");

const interval = setInterval(() => {
  if(!state.finished && Date.now() >= state.end){
    endSession();
    clearInterval(interval);
  }
}, 500);

window.addEventListener("keydown", e => {
  if(state.finished) return;
  if(e.key === "?") checkStatus();
});

})();
</script>
</body>
</html>
